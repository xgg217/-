# 子组件向父组件传递数据

## 状态提升

+ 在 Vue 中，父传子通过 `props` ，子传父通过触发自定义事件

+ 在 React 中，如果子组件需要向父组件传递数据，同样是通过触发父组件传递给子组件的事件来进行传递

+ 这在官网中被称之为“状态提升”

  https://zh-hans.reactjs.org/docs/lifting-state-up.html

  ```js
  // 父组件
  import React from "react";
  import Money from "./component/Money";

  // 类组件
  class App extends React.Component {
    state = {
      dollar: "",
      rmb: ""
    }

    transformToRMB = (value) => {
      if (parseFloat(value) || value === "" || parseFloat(value) === 0) {
        this.setState({
          dollar: value,
          rmb: value === "" ? "" : (value * 7.3255).toFixed(2)
        })
      } else {
        alert("请输入数字");
      }
    }

    transformToDollar = (value) => {
      if (parseFloat(value) || value === "" || parseFloat(value) === 0) {
        this.setState({
          dollar: value === "" ? "" : (value * 0.1365).toFixed(2),
          rmb: value
        })
      } else {
        alert("请输入数字");
      }
    }

    render() {
      return (
        <div>
          <Money text="美元" money={this.state.dollar} transform={this.transformToRMB} />
          <Money text="人民币" money={this.state.rmb} transform={this.transformToDollar} />
        </div>
      )
    }
  }

  export default App;
  ```

  ```js
  // 子组件
  import React from 'react';

  function Money(props) {

    function handleChange(e){
      // 在子组件中，要做的事情很简单，将用户数据的值，传递给父组件
      // 让父组件来进行修改
      props.transform(e.target.value);
    }

    return (
      <fieldset>
        <legend>{props.text}</legend>
        <input type="text" value={props.money} onChange={handleChange}/>
      </fieldset>
    );
  }

  export default Money;
  ```
