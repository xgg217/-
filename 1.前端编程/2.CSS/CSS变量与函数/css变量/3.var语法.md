# var 语法

## 概述

+ `var(--*, 默认值?)`

  + 参数1：是要替换的自定义属性的名称

    + 如果第一个参数值是不合法的，则var()函数解析为当前CSS属性的初始值或继承值（如果有继承性），也就是按照unset全局关键字的规则渲染

      ```css
      /* 如果发现变量值是不合法的，则使用背景色的缺省值，也就是 默认值 代替 */
      body {
        --color: 20px;
        background-color: #369;
        background-color: var(--color, #cd0000);
      }
      /* 此时<body>的背景色是 transparent */
      ```

  + 参数2：是可选的，作为参数一无效时候的回退值

    + 如果 `var()` 函数的第一个参数值可能有效，则后备CSS自定义属性值是不会渲染

  ```css
  .box {
    --what: 32px;
    color: var(--what, red);
    font-size: var(--what);
  }
  ```

## 属性作用域

+ 和js中的作用域特点很像
+ js中作用域， 全局作用域，局部作用域，作用域链
+ css中作用域，全局作用域，局部作用域，继承，但与权重无关

  ```html
  <div class="container" style="--color: red">
    <div class="box" style="color: var(--color)">123</div>
  </div>
  <script>
    const box = document.querySelector(".box");
    const color = box.style.getPropertyValue("--color");
          box.style.setProperty("--color", "green");
  </script>
  ```
