# 项目代码结果

## 示例

+ code

  ```js
  // main.js

  // init 函数：负责设置场景、窗口管理器、调整渲染器大小以适应窗口，并开始渲染循环
  function init () {
    initialized = true;

    // 这里添加了一个定时器，主要是因为 window.offsetX 在短时间内会返回错误的值
    setTimeout(() => {
      setupScene();
      setupWindowManager();
      resize();
      updateWindowShape(false);
      render();
      window.addEventListener('resize', resize);

    }, 500)
  }

  // 设置场景
  function setupScene() {

    // 创建正交相机
    camera = new THREE.OrthographicCamera(0, 0, window.innerWidth, window.innerHeight, -10000, 10000);

    // 设置相机位置
    camera.position.z = 2.5;
    near = camera.position.z - .5;
    far = camera.position.z + 0.5;

    // 创建场景
    scene = new THREE.Scene();
    scene.background = new THREE.Color(0.0);
    scene.add(camera);

    // 创建渲染器
    renderer = new THREE.WebGLRenderer({ antialias: true, depthBuffer: true });
    renderer.setPixelRatio(pixR);

    // 创建对象3D
    world = new THREE.Object3D();
    scene.add(world);

    // 设置渲染器的id
    renderer.domElement.setAttribute("id", "scene");
    // 将渲染器添加到body中
    document.body.appendChild(renderer.domElement);
  }

  // 创建一个WindowManager实例


  // 调整渲染器的尺寸以适应窗口大小

  function resize() {
    // 获取窗口的宽度
    let width = window.innerWidth;
    // 获取窗口的高度
    let height = window.innerHeight
    // 创建一个正交相机，参数为：left，right，top，bottom，near，far
    camera = new t.OrthographicCamera(0, width, 0, height, -10000, 10000);
    // 更新相机的投影矩阵
    camera.updateProjectionMatrix();
    // 设置渲染器的尺寸
    renderer.setSize(width, height);
  }
  ```
