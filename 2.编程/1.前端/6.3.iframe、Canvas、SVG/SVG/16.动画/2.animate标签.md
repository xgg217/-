# animate 标签

## 定义

+ 动画标签默认定义在图形标签内部，表示对当前图形进行动画设置

  ```html
  <circle cx="30" cy="30" r="10" fill="#f00">
    <animate
      attributeType="XML"
      attributeName="cx"
      from="30"
      to="60"
      dur="1s"
      repeatCount="1"
      fill="freeze"/>
  </circle>
  ```

+ 也可以单独定义动画标签，利用动画标签的href属性 + 图形的id ， 为指定图形设置动画

  ```html
  <circle cx="30" cy="30" r="10" fill="#f00"></circle>

  <circle id="c2" cx="30" cy="60" r="10" fill="#00f"></circle>

  <animate  href="#c2" ... />
  ```

## 多个动画标签

+ 可以使用多个动画标签，控制多个属性的动画变化

  ```html
  <circle cx="30" cy="30" r="10" fill="#f00">
    <animate
      attributeType="XML"
      attributeName="cx"
      from="30"
      to="60"
      dur="1s"
      repeatCount="1"
      fill="freeze"/>

    <animate
      attributeType="XML"
      attributeName="cy"
      from="30"
      to="60"
      dur="1s"
      repeatCount="1"
      fill="freeze"/>
  </circle>
  ```

## attribute 控制动画属性

+ attributeType 设置动画属性的类型， 一般不建议设置。使用默认即可

  + auto 默认
  + CSS
  + XML

+ attributeName 设置具体的动画属性。 支持SVG属性，也只是CSS属性

  ```html
  <animate attributeName="r" ... >
  ```

## from/to/by 控制动画数值

+ 控制从哪个值到哪个值之间发生动画变化。

  + from 从哪个值开始 。 可以缺省，与图形的初始值相同

  + to 到哪个值结束 。 是一个具体的值

  + by 经过多少值，与to二选一，是一个相对的值

  ```
  from 30 to 60   从30 到60
  from 30 by 60   从30 经过60  [到90]
  ```

## dur 控制动画时长

+ 控制多久完成动画

  + 可以是单一的时间单位 ： 1s , 100ms , 1m
  + 也可以是时间组合 ： `1.500` （1s + 500毫秒） ， `01:01.500` （1min + 1s + 500ms）

## repeatCount 控制动画次数

+ 可以是一个具体的次数： 1 ， 2 ， 3
+ 可以是无限次 ： `indefinite`

## repeatDur 控制动画总时长

+ 在重复动画时，最大动画时长

+ 例如：1s完成一次动画， 无限动画。 但规定只会进行5s中的动画， 相当于完成5次技术

## fill 控制最终形态

+ 控制动画执行完毕时，那一时刻的状态

  + remove 默认， 移除动画最终的效果，从而恢复开始状态
  + freeze ， 保留动画最终的效果

## begin/end 控制动画起始

+ 控制动画何时开始/结束

  + 默认情况下是加载即开始（动画效果执行完毕即结束）

+ 控制动画延迟开始

  + `begin="2s"` 2s后开始动画

+ 控制动画在某一个图形事件后开始

  + click , mouseover , mousedown , mouseout,moursemove
  + 也可以是当前图形事件
  + begin="id.click" 这里是是图形标签的id

  ![alt text](images/事件.png)

  ```html
  <circle cx="30" cy="30" r="10" fill="#f00">
    <animate
      attributeName="cx"
      from="30"
      to="60"
      dur="1s"
      begin="btn2.mouseover"
      fill="freeze"/>
  </circle>

  <g style="cursor:pointer" id="btn2">
    <rect x="40" y="60" width="20" height="10" rx="5" ry="5" fill="#ccc" stroke="#000" />
    <text x="50"  y="67" font-size="6" text-anchor="middle">移入</text>
  </g>
  ```
