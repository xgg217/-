# 编码

## UTF-32 编码

+ UTF-32 让每个字符都以 32 比特，即 4 字节的长度来存储，位数不够就在前面补 0，32 比特足够表示 Unicode 中的所有字符，固定长度也能帮助计算机明确每个字符的截断范围
+ 但造成的问题是：ASCII 编码中的每个英文字母只要 1 字节，GBK 中的一个汉字只要 2 字节，而在 UTF-32 中则都需要 4 字节

+ 造成大量的浪费，所以现在基本弃用了

## UTF-16 编码

+ 采用2字节和4字节边长的方式编码

+ 常用于操作系统和编程语言中，如 Java 和 JavaScript 默认使用 UTF - 16 编码

## UTF-8 编码

+ UTF-8 是针对 Unicode 的可变长度编码，不同于编码后长度固定为 32 比特的 UTF-32，UTF-8 针对不同字符，编码后的长度可以是 32 比特、24 比特、16 比特、8 比特

+ 具体规则是

  + 码点在 0 ~ 127 范围内的字符直接映射为 1 字节长度的二进制数

  + 码点在 128 ~ 2047 范围内的字符映射为 2 字节长度的二进制数

    + UTF-8 为了让计算机知道各个字符之间到底在哪里分割，就让 2 字节编码的第一个字节由 110 开头，第二个字节由 10 开头，Unicode 的二进制码点会被分割成两个部分，填入 UTF-8 编码的数字里

  + 码点在 2048 ~ 65535 范围内的字符映射为 3 字节长度的二进制数

    + 第一个字节由 1110 开头，后面两个字节都由 10 开头，Unicode 的二进制码点会被分割成三个部分，填入 UTF-8 编码的数字中

  + 码点在 65536 ~ 1114111 范围的字符映射为 4 字节长度的二进制数

    + 第一个字节由 11110 开头，后面三个字节都由 10 开头，Unicode 的二进制码点会被分割成四个部分，填入 UTF-8 编码的数字中


  ![alt text](images/码点范围.png)

## UTF-8 的优点

+ 兼容 ASCII

+ 节约空间，UTF-8 让 Unicode 中码点小的字符也相应拥有更短的长度，并且通过前缀信息，也能让计算机辨别各字符在内存中的总长度，解决分割不明的问题
